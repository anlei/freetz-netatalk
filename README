Netatalk
========

If you don't speak German but want to work on this project, please let me know by adding
a comment to:

tba


Stand der Dinge
---------------

Die Library db-4.8 kompiliert, das .mk ist aber sicher noch verbesserungswürdig, insbesondere
bei den Zeilen mit FIXME.

Netatalk produziert einen Fehler (checking Berkeley DB library (-ldb47)... configure: error:
cannot run test program while cross compiling). Um den zu lösen, muss man - als Workaround - 
nach dem ersten, fehlerhaften Lauf den Patch patches-OFF/100-configure.patch anwenden:

cd source/netatalk-2.0.5 && patch <../../make/netatalk/patches-OFF/100-configure.patch

Danach kompiliert Netatalk bis zu folgendem Fehler:

ad_open.c:715: error: expected ';', ',' or ')' before '_U_'

Die CGI fürs Freetz Backend, Init Scripts etc fehlen noch.


Installation
------------

Zuerst sollte das Git Repo geforked werden:
http://github.com/svoop/freetz-netatalk

Danach die Entwicklungsumgebung erzeugen. Anstelle von {USERNAME} sollte der
eigene Github-Username eingesetzt werden:

svn checkout http://svn.freetz.org/trunk
git clone git@github.com:{USERNAME}/freetz-netatalk.git netatalk
ln -s ../../../netatalk/make/libs/db.mk trunk/make/libs/
ln -s ../../netatalk/make/netatalk trunk/make/
cat netatalk/etc/db.config >>trunk/make/libs/Config.in
cat netatalk/etc/db.makefile >>trunk/make/libs/Makefile.in
sed -i 's%ncftp/Config.in%ncftp/Config.in\nsource make/netatalk/Config.in%' trunk/make/Config.in
cd trunk
make menuconfig


Pakete
------

FREETZ_PACKAGE_NETATALK
  Package selection -> Testing -> Netatalk

FREETZ_LIB_libdb
  Advanced options -> Shared libraries -> db


Links
-----
* Forum: tba
* Berkeley DB: http://www.oracle.com/technology/software/products/berkeley-db/db
* Netatalk: http://netatalk.sourceforge.net
* Github: http://help.github.com/forking
* Netatalk auf OpenWRT: https://dev.openwrt.org/attachment/ticket/6619/netatalk.diff
